<ActionBar class="action-bar">
    <NavigationButton visibility="hidden"></NavigationButton>
    <GridLayout columns="50, *">
        <Label class="action-bar-title" text="Bookings" colSpan="2"></Label>

        <Label class="fas" text="&#xf0c9;" (tap)="onDrawerButtonTap()"></Label>
    </GridLayout>
</ActionBar>

<GridLayout>
    <RadListView [items]="bookings"  class="bookings-list">
        <!--
        RadListView is a UI component part of the Progress NativeScript UI set of components.
        Learn more about the RadListView UI component and how it can be customized in this documentation article:
        https://docs.nativescript.org/angular/ui/professional-ui-components/ng-ListView/getting-started
        This component is used to display the master list in the master-detail structure.
        -->
        <ng-template tkListItemTemplate let-booking="item">
            <StackLayout class="bookings-list__item">
                <GridLayout rows="*, *, *" columns="*, *" class="bookings-list__item-content">
                    <Label style="color:indianred" [text]="booking.carName" class="bookings-list__item-name font-weight-bold"></Label>
                    <Label col="1" horizontalAlignment="right" class="m-r-5">
                        <FormattedString>
                            <Span style="color:darkgrey" text="Booked by: "></Span>
                            <Span [text]="booking.userId"></Span>
                        </FormattedString>
                    </Label>

                    <StackLayout row="1" class="hr m-y-5" colSpan="2"></StackLayout>

                    <Image
                            row="2"
                            [src]="booking.carImage"
                            stretch="aspectFill"
                            height="120"
                            class="m-r-20"
                    ></Image>
                    <StackLayout row="2" col="1" verticalAlignment="center">
                        <Label class="p-b-10">
                            <!-- set fontFamily="system" to workaround "Service exited due to Segmentation fault: 11" error -->
                            <FormattedString ios:fontFamily="system">
                                <Span style="color:darkgrey" text="Starts: "></Span>
                                <Span [text]="booking.startDate"></Span>
                            </FormattedString>
                        </Label>
                        <Label class="p-b-10">
                            <!-- set fontFamily="system" to workaround "Service exited due to Segmentation fault: 11" error -->
                            <FormattedString ios:fontFamily="system">
                                <Span style="color:darkgrey" text="Ends: "></Span>
                                <Span [text]="booking.endDate"></Span>
                            </FormattedString>
                        </Label>
                    </StackLayout>
                </GridLayout>
            </StackLayout>
        </ng-template>
    </RadListView>

    <ActivityIndicator [busy]="isLoading"></ActivityIndicator>
</GridLayout>
